System.register(["./mui-legacy-nJi-LPwx.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-BZ1lZp4I.js","./react-setup-legacy-DjnQrG6U.js","./load-functions-legacy-Bi-Vku98.js","./base-legacy-BAe6cWtL.js","./payment-legacy-CyN0Z8Eu.js","./router-legacy-s4T0V6vG.js","./intl-legacy-B7uNycgM.js","./eCache-legacy-CW-H9Ud9.js","./redux-legacy-D5ZHjMNV.js","./toolkit-legacy-uWyLsHZ1.js","./lodashEs-legacy-CZW16S6G.js","../index-legacy.BFKCpyw1.js","./global-legacy-B1EgakWG.js","./muiIcon-legacy-CbXEHT38.js","./dateFns-legacy-Bs-ooDPO.js","./dropzone-legacy-C0uLCPXC.js","./b3checkout-legacy-CZP4RuCj.js"],(function(e,l){"use strict";var n,t,a,c,s,i,r,o,u,g,y,j;return{setters:[e=>{n=e.j,t=e.B},e=>{a=e.r},e=>{c=e.u},e=>{s=e.u,i=e.aB,r=e.ab,o=e.ag},null,null,e=>{u=e.h,g=e.g},e=>{y=e.c,j=e.u},null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",(function(){const e=s((({global:e})=>e.storeInfo.platform)),l=s((({company:e})=>e.tokens.B2BToken)),[d,f]=a.useState(!1),[m,h]=a.useState(!1),x=y(),p=j(),k=c();return a.useEffect((()=>{(async()=>{if(f(!0),!l)return h(!0),void f(!1);if(x?.id||o.error(k("payment.errorInvoiceCantBeBlank")),x?.id)try{const{invoice:{openBalance:{code:l="",value:n=""}}}=await u(Number(x.id));l&&n||o.error(k("payment.errorOpenBalanceIsIncorrect"));const t={lineItems:[{invoiceId:Number(x.id),amount:n}],currency:l};await g(t,e,!0)}catch(n){o.error(n?.message||k("payment.invoiceDoesNotExist"))}finally{f(!1)}})()}),[e,x.id]),n.jsxs(t,{children:[d&&n.jsx(i,{backColor:"#FFFFFF"}),n.jsx(r,{isOpen:m,fullWidth:!0,title:"",rightSizeBtn:"ok",showLeftBtn:!1,handRightClick:()=>{p("/login")},children:n.jsx(t,{sx:{height:"200px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:n.jsxs(t,{children:[n.jsx(t,{sx:{mb:"10px"},children:k("payment.firstLoginToPay")}),n.jsx(t,{children:k("payment.clickToLandingPage")})]})})})]})}))}}}));
//# sourceMappingURL=index-legacy-CPvOVxej.js.map
