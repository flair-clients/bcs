System.register(["./mui-legacy-nJi-LPwx.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-BZ1lZp4I.js","./react-setup-legacy-DjnQrG6U.js","./load-functions-legacy-Bi-Vku98.js","./base-legacy-BAe6cWtL.js","./useSort-legacy-CfCrn6Eb.js","./masquerade-legacy-BdzpkdpX.js","./B3FilterSearch-legacy-ChgjgfIK.js","./MoreHoriz-legacy-DpoieXUu.js","./router-legacy-s4T0V6vG.js","./intl-legacy-B7uNycgM.js","./eCache-legacy-CW-H9Ud9.js","./redux-legacy-D5ZHjMNV.js","./toolkit-legacy-uWyLsHZ1.js","./lodashEs-legacy-CZW16S6G.js","../index-legacy.BFKCpyw1.js","./global-legacy-B1EgakWG.js","./muiIcon-legacy-CbXEHT38.js","./dateFns-legacy-Bs-ooDPO.js","./dropzone-legacy-C0uLCPXC.js"],(function(e,a){"use strict";var n,s,o,r,l,t,c,i,d,m,u,p,x,y,b,g,j,h,f,N,C,S,k;return{setters:[e=>{n=e.j,s=e.L,o=e.ae,r=e.T,l=e.B,t=e.d,c=e.I,i=e.s,d=e.Y,m=e.X},e=>{u=e.r},e=>{p=e.u},e=>{x=e.ao,y=e.ad,b=e.al,g=e.u,j=e.L},null,null,e=>{h=e.u},e=>{f=e.e,N=e.s},e=>{C=e.B},e=>{S=e.d},e=>{k=e.a},null,null,null,null,null,null,null,null,null,null],execute:function(){function a(){const e=p();return n.jsx(l,{sx:{fontWeight:400,fontSize:"13px",background:"#ED6C02",display:"inline-block",p:"2px 7px",color:"#FFFFFF",borderRadius:"10px"},children:e("dashboard.selected")})}function F({companyName:e,email:c,isSelected:i,action:d}){return n.jsxs(s,{children:[n.jsxs(o,{sx:{color:"#313440"},children:[n.jsx(r,{sx:{fontWeight:400,fontSize:"24px",color:"rgba(0, 0, 0, 0.87)"},children:e}),i&&n.jsx(a,{}),n.jsxs(l,{sx:{display:"flex",fontSize:"16px",mt:"15px",gap:"5px"},children:[n.jsx(r,{sx:{fontWeight:500},children:"Email:"}),n.jsx(r,{variant:"body1",children:c})]})]}),n.jsx(t,{sx:{ml:"10px",mb:"10px"},variant:"text",onClick:()=>d.onClick(),children:d.label})]})}e("default",(function(e){const a=x(),{salesRepCompanyId:s,b2bId:o,customerId:r}=function(){const e=g((({company:e})=>e.customer.id)),a=g((({company:e})=>e.customer.b2bId)),n=Number(g((({b2bFeatures:e})=>e.masqueradeCompany.id)));return{salesRepCompanyId:n,b2bId:a,customerId:e}}(),{setOpenPage:t}=e,c=p(),[i,d]=u.useState(!1),[m,S]=u.useState({q:"",orderBy:A[R]}),[I,E,B]=h(A,R,m,S,"asc"),w=k(),O=async e=>{try{d(!0),"number"==typeof o&&await N({customerId:r,companyId:e}),t({isOpen:!0,openUrl:"/dashboard"}),S({...m})}finally{d(!1)}},P=async()=>{try{a(!0),"number"==typeof o&&await f(),S({...m})}finally{a(!1)}};u.useEffect((()=>{const e={...w};e?.state&&P()}),[w]);const D=[{key:"companyName",title:c("dashboard.company"),render:({companyName:e,companyId:a})=>n.jsx(z,{companyName:e,isSelected:Number(a)===Number(s)}),isSortable:!0},{key:"companyEmail",title:c("dashboard.email"),isSortable:!0},{key:"actions",title:c("dashboard.action"),render:({companyId:e})=>Number(e)===Number(s)?n.jsx(q,{label:c("dashboard.endMasqueradeAction"),onClick:()=>P()}):n.jsx(q,{label:c("dashboard.masqueradeAction"),onClick:()=>O(Number(e))})}];return n.jsx(y,{isSpinning:i,children:n.jsxs(l,{sx:{display:"flex",flexDirection:"column",flex:1},children:[n.jsx(l,{sx:{mb:"24px"},children:n.jsx(C,{handleChange:async e=>{S({...m,q:e})}})}),n.jsx(b,{columnItems:D,rowsPerPageOptions:v,getRequestList:async e=>{let a={edges:[],totalCount:0};return"number"==typeof o&&(a=(await j(o,e)).superAdminCompanies),a},searchParams:m||{},isCustomRender:!1,requestLoading:d,tableKey:"id",sortDirection:E,orderBy:B,sortByFn:I,renderItem:({companyName:e,companyEmail:a,companyId:o})=>{const r=Number(o)===Number(s),l=r?{label:c("dashboard.endMasqueradeAction"),onClick:()=>{P()}}:{label:c("dashboard.masqueradeAction"),onClick:()=>{O(Number(o))}};return n.jsx(F,{companyName:e,email:a,isSelected:r,action:l})}})]})})}));const I=i(m)((()=>({"& .MuiPaper-elevation":{boxShadow:"0px 1px 0px -1px rgba(0, 0, 0, 0.1), 0px 1px 6px rgba(0, 0, 0, 0.07), 0px 1px 4px rgba(0, 0, 0, 0.06)",borderRadius:"4px"}})));function q({label:e,onClick:a}){const s=u.useRef(null),[o,r]=u.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx(c,{onClick:()=>r(!0),ref:s,children:n.jsx(S,{})}),n.jsx(I,{anchorEl:s.current,open:o,onClose:()=>r(!1),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:n.jsx(d,{sx:{color:"primary.main"},onClick:()=>{a(),r(!1)},children:e})})]})}function E(){const e=p();return n.jsx(l,{sx:{fontWeight:400,fontSize:"13px",background:"#ED6C02",ml:"16px",p:"2px 7px",color:"#FFFFFF",borderRadius:"10px"},children:e("dashboard.selected")})}function z({companyName:e,isSelected:a}){return n.jsxs(l,{sx:{display:"flex",alignItems:"center"},children:[e,a&&n.jsx(E,{})]})}const R=e("defaultSortKey","companyName"),A=e("sortKeys",{companyName:"companyName",companyAdminName:"companyAdminName",companyEmail:"companyEmail"}),v=[10,20,30]}}}));
//# sourceMappingURL=index-legacy-Bb-oYtFa.js.map
